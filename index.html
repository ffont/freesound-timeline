<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Freesound Timeline</title>
		<script type="text/javascript" src="freesound.js"></script>
		<script src="audioengine.js"></script>
		<script src="all.js"></script>
		<link href="slider.css" rel="stylesheet">
		<link href="all.css" rel="stylesheet">
	</head>
	<body>
		<div id="wrapper">
			<div id="title">Freesound Timeline<img src="fs_wave_logo.png"></div>
			<div id="share">
				<span id="volume_control">
					<img class="speaker-img" src="speaker.png" /><input id="volume" type="range" min=0.0 max=1.0 step='.05' value=1.0 oninput="setVolume()" onchange="setVolume()">
				</span>
				<a href="javascript:void(0);" onclick="share();">Share</a> <a href="https://labs.freesound.org/apps/freesound-timeline.html" target="_blank">?</a>
			</div>
			<br style="clear: both;">
			<div id="content">

				<div id="transport">
					<table style="width: 100%;"><tr>
						<td id="buttonsLeft">
							<button id="previous_button" onclick="previous_button()"><img class="button-img" src="prev_button.png" /></button>
							<button id="play_button" onclick="play_button()"><img class="button-img" src="play_button.png" /></button>
							<button id="stop_button" onclick="panic_button()"><img class="button-img" src="stop_button.png" /></button>
						</td>
						
						<td>
							<div id="evolution_percentage_indicator">
								<div id="evolution_percentage_indicator_loader"></div>
							</div>
						</td>

						<td id="buttonsRight">
							<button id="next_button" onclick="next_button()"><img class="button-img" src="next_button.png" /></button>
						</td>
					</tr></table>
				</div>

				<div class="controls">
					<div class="control">
						<div class="labelDiv">
							<label for="year">Year</label>
						</div>
						<div class="inputDiv"> 
							<input class="input_focus_enter" type="text" name="year" id="year" min="2005" max="9999" step="1" maxlength="4" onkeypress='return event.charCode >= 48 && event.charCode <= 57' onchange="setHash()">
						</div>
					</div>
					<div class="control">
						<div class="labelDiv">
							<label for="month">Month</label>
						</div>
						<div class="inputDiv"> 
							<input class="input_focus_enter" type="text" name="month" id="month" min="1" max="12" step="1" maxlength="2" onkeypress='return event.charCode >= 48 && event.charCode <= 57' onchange="monthChange()">
						</div>
					</div>
					<div class="control">
						<div class="labelDiv">
							<label for="complexity">Density</label>
						</div>
						<div class="inputDiv">
							<input class="input_focus_enter" type="text" name="complexity" id="complexity" min="1" step="1" max="100" maxlength="3" onkeypress='return event.charCode >= 48 && event.charCode <= 57' onchange="setComplexity()">
						</div>
					</div>
					<div class="control">
						<div class="labelDiv">
							<label for="alternative">Mode</label>
						</div>
						<div class="inputDiv">
							<span id="alternate_label" class="ckecboxlabel" onclick="toggleAlternativeCheckbox()">rt</span> <!-- OFF = ratings, ON = downloads -->
							<input type="checkbox" name="alternative" id="alternative">
						</div>
					</div>
					<div class="control">
						<div class="labelDiv">
							<label for="auto_advance">Autoadvance</label>
						</div>
						<div class="inputDiv">
							<span id="autoadvance_label" class="ckecboxlabel" onclick="toggleAutoAdvanceCheckbox()">ON</span>
							<input type="checkbox" name="auto_advance" id="auto_advance" checked>
						</div>
					</div>
				</div>				
				<div id="attributionList">
					please <b>use headphones</b> for the full experience
				</div>
				<div id="about">
					Freesound Timeline is a app that I originally implemented in 2011 when I was starting to learn about web technologies. 
					In 2018 I updated it to make use <a href="https://freesound.org" target="_blank">Freesound</a> APIv2 and the Web Audio API, and to add new killer features such as random 
					spacialization of sounds in a 3D space (using WebAudio's HRTF panning), and the <i>autoadvance</i> mode to let Freesound Timeline
					automatically advance through Freesound history. Want to contribute? <a
					href="http://github.com/ffont/freesound-timeline" target="_blank">visit the code repository</a>.

					<!--
					This is a very simple hack that gets the most popular sounds in <a href="https://freesound.org"
					target="_blank">Freesound</a> for a given
					year and month and plays them all at once (in loop). Use the density slider to adjust the complexity of the
					generated soundscape. Copy the URL to share the soundscape with your friends. <br><b>EDIT</b>: added a new
					killer feature which allows you to automatically advance in time and explore Freesound history in a sort of
					"radio" mode. Just check the "auto-advance" checkbox and enjoy.
					-->
				</div>
			</div>
		</div>
	</body>
</html>
